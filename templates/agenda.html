{% extends "base.html" %}

{% block content %}
    <form method="post">
            <input type="text" name="titulo-tarefa" id="titulo-tarefa" placeholder="titulo da tarefa"value="{{tarefa_selecionada.titulo_tarefa if tarefa_selecionada else '' }}">
            <input type="date" name="data-conclusao" id="data-conclusao" value="{{tarefa_selecionada.titulo_tarefa if tarefa_selecionada else '' }}">
            <button type="submit">Salvar</button>

            {% if tarefa_selecionada %}

                <a href="{{ url_for('agenda') }}" class="btn btn-secondary">Cancelar</a>

            {% endif %}
    </form>

    <h2>Lista de tarefas</h2>
    {% if tarefas %}

    <ul>
        {% for tarefa in tarefas %}
            <li>{{ tarefa.titulo_tarefa }} - {{ tarefa.data_conclusao }}
            <a href="{{ url_for('delete', idTarefa=tarefa.id_tarefa) }}" class="btn btn-danger">Apagar</a></li>
            <a href="{{ url_for('uptade', idTarefa=tarefa.id_tarefa) }}" class="btn btn-primary">Editar</a>
            <!-- Controle para editar-->
            {% endfor %}
    </ul>

    {% else %}

         <p>Nenhuma tarefa cadastrada</p>

    {% endif %}

{% endblock %}

<!-- Métodos HTTP:
    GET -> "pega" (recupera/obtém) as informações (READ)
    POST -> "envia" (cadastra/inclui/adiciona) as informações
    (CREATE)
    UPTADE -> "atualiza" as informações (UPTADE)
    PATCH ->"atualiza" parte das informações (UPTADE)
    DELETE -> "apaga" as informações (DELETE)

    CRUD -> Create, Read, Uptade, Delete
-->

<!-- Códigos de retorno:
    2XX- Sucesso
    3XX - Sucesso, mas redirecionado
    4XX - Não encontrado (falha na REQUISIÇÃO)
    5XX - Erro do servidor (falha na RESPOSTA)

-->